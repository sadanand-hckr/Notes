## StationX Volume 2 ->

- Default gateway(Internal IP Address) for ur devices 
	Windows cmd -> route print , or u can use ipconfig
	Linux cmd -> sudo route -n
	
	Common Default IP addresses -> https://www.techspot.com/guides/287-default-router-ip-addresses/
	
	Well Known Ports -> https://www.webopedia.com/quick_ref/portnumbers.asp
	
    - Enter the Deafult gateway IP address in browser to go to the router Dashboard
    
	Deafult Router Passwords -> https://www.routerpasswords.com/  
 
	To know ur External IP address -> https://whatismyipaddress.com/
	
Firewall Linux cmd -> iptables -L

Modems work at the physical layer of the OSI model
		  
- cheack if ur router has UPnP(Universal Plug and Play) this allows Port forwarding setup automatically as if
		  ur internal device has UPnP setup then it communicate with the Router and opens up the Port without u knowing
		  so make sure it is disabled
		  
- To what ever device u r going to do port forwarding it must be secure bcz it is an open doorway to ur network
		  
- After ssh into ur router via ur internal IP to know which ports r open cmd -> netstat -tuln
		  
- For online Scan -> https://pentest-tools.com/network-vulnerability-scanning/tcp-port-scanner-online-nmap
					 https://mxtoolbox.com/NetworkTools.aspx?tab=Network
					 https://www.grc.com/shieldsup

- Port scanning could be illegal 

- To check if ur IP is in a Database of known vulenrable devices -> http://www.techmonkeys.co.uk/hackcheck/index.php 

- For online Vulnerability Scan -> https://www.qualys.com/community-edition/#/freescan and also guide of vulnerability is
 their
 
- To check DHCP settings -> Windows cmd -> ipconfig /all |more
							Linux cmd -> {{cat /var/log/syslog |grep DHCP}}
							
			internal network scan -> nmap -T4 -F 192.168.1.0/24
			or u can also use 'zenmap' and For windows u can use 'superscan' and for mobile use 'Fing'

- For vulnerability scan use MBSA(Microsoft Baseline Security Analyser) for windows and for linux u can use OpenVAS
- In OpenVAS go to 'scan' then to 'task' then to 'Advance task wizard' then enter internal network subnet 192.168.1.1-254
  , also select the 'scan config' type, click 'create', then go to 'Reports' tab 			
			
- Free open source custom firmware for routers which provide features like VPNs, VLANs, isolatedwifi, authentication servers
 , iptables, live traffic monitoring, loggings etc. the firmware default come by witht routers could contain the backdoors
   List - https://en.wikipedia.org/wiki/List_of_router_firmware_projects
   
Note - Be carefull while doing this bcz if u don't upoad the right upload firmware file for the router it could break the
    router and manufacturer won't help u if u try to install custom firmware
	
	Common known custom firmware OpenWRT -> https://openwrt.org/
	
	
	Not all routers allow for custom firmware upload so by a seperate router Meantioned in Course 
	https://www.udemy.com/course/network-security-course/learn/lecture/5275388#overview
   

- Firewalls basically works on Port, protocol and address, advance Firewalls do Deep packet inspection at Application layer
  which r generally dedicated hardware firewalls 
  
  Ingress Filtering or Inbound traffic cannot connect to the devices unless u do Port forwarding
  
  Microsoft devices have windows firewall and linux has iptables and these r called host based Firewalls, devices or u would
  like to stop all the inbound traffic from the untrusted network, but it is not possible to protect from the untrusted 
  devices on the network u share
  
  Egress Filtering or Outbound traffic to prevent devices to connect to the outer internet such as stoping the Windows laptop
  to connect with Microsoft domain or Malware to its controlling master 
  
  Shell code is generally refered to the code performing reverse connections
  
  Reverse Shell cheatsheet -> http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet
  
  Firewalls can also be used for network isolations or segmenting the network, Firewall to block traffic between devices on
  the internal network whcih will prevent the internal untrusted devices to attack the trusted devices sharing the network
  ,other then firewall the router and switch can be used for the same tasks
  IoT devices should always be considered untrusted 
  
  Network based Firewall routes traffic from one network to another and they usally have 2 network connections as minimum, in
  home network they filter traffic from the local netowrk to the internet and vice-versa
  Easiset way to implement this is with Custom based firware 
  Disadvanteage of Network based firewall is malware simply uses the ports and protocol that allow to communicate out and most
  often port 53, 443, 80 r always open hence network based firewall r unable to block outbound connections unless some advance
  type of network based work at application layer to do deep packet filtering based on the signature of what they r going to
  block which is difficult
  
  Host based firewall r installed on the deiveces u use, bcz host based firerwalls r local to the system they have the 
  disadvantage of being on the same platform as any malware that is installed on the deivce try to attack it bcz of thsi
  malware could disable the firewall, clever firewalls could use trusted software to evade firewalls such as using the
  browser process to communcate out but network firewalls cannot be disbled by malware
  Host based firewall can understand what applications r running on the device so they can block traffic based on the white
  or the black list of applications so u can allow the software u know to communicate out and this way the shell codes could
  not perform reverse connections but still if malware is clever they can bypass this by writing on the trusted software like
  browser
  
  Network or Host based virtual firewall in thsi the virtual machines acts a firewall such as using pfsense virtual machine
  to prevent other virtual machines, virtual firewall simply means u don't need a dedicated hardware firewall it could be
  usefull in cases such as nesting VPN services or prevent VPN leaks or filtering traffic on VM
  
  Note -> Block all traffic unless implicitly allowed 
		- Block IPv6
		- Block UPnP 1900
		- Block IGMP 
		- Block any OS service which is not used 
  
  Dynamic Packet Filtering also called Satate full packet inspection -> In this u only need to allow outbound connection u do not
  need to set inbound traffic  
  
  Windwos firewall by default allow all outbound traffic and it also not allow some Microsoft domains and IP addresses to be
  blocked 
  
  Windows Firewall Control -> 
  https://www.howtogeek.com/227093/how-to-block-an-application-from-accessing-the-internet-with-windows-firewall/

 Shodan -> search - netgear  // this will search on the basis of the netgear manufacturer and give admin interface

		  - their should not be a direct access to the admin interface 
		  - then go to 'Exploit' tab and then to exploit-db
		  
		  search - "default password"
		  
		  - if u have setup port forwarding or DMZ on ur router it will most propably found via shodan
		  
		  - check ur own router on shodan
		  
     ## Shodan - ZSecurity
	 - It is advisable to try to hack into devices such as Printers etc bcz others might be secure but they r most of the
	 times not secure so they r great Access points as in many cases they also have old firmware
	 
	 Each device connected to the internet has a banner and shodan search in the data field of banner which is like in
	 JSON format as of Key value pairs, banners could be different for different devices but all of them will have "data"
	 key or field
	 
	 search - camera  // this doesn't means that it will list only camera it is just a device with banner camera
	 search - camera has_screenshot:true  // here we r using filter whcih shodan is able to take screenshot of camera
												which means camera doesn't require authentication
												
	 search - camera has_screenshot:true country:mc  // using other filters, but it might not show any results bcz not
			every camera has string camera in banner
			
	 search - has_screenshot:true country:mc  // this might also list remote desktop access too as these would be PC's with
						remote desktop enabled
											
	 search - has_screenshot:true country:mc -port:3389 // if u only want camera then use filter -port, '-' is to denote
				exclude and as 3389 is default remote desktop port hence it will remove the results with port 3389
				
	 - Click on the option 'Raw Data' after clicking the IP which is listed and U will be able to see the banner or much more
	 info it has returned to shodan which u can use to find same kind of devices
	 
	 - click on Explore tab to find more searches or google for more filters for better searches, In Explore tab u will
	  find Industrial Control Systems, Databases, Video Games etc
	  
	 search - org:Dell  // org is to discover devices for corpopration related 
	 
	 After clicking the target u can go tot Domains then to sub domains and to ports and then enable Doors on it if it is 
	 a controller
	 
	 Try finding old devices such as Printers, Polycams, vmware, backup servers(most usefull) etc
